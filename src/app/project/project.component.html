<nav class="navbar fixed-top top-navbar" *ngIf="project?.ready">
  <form class="form-inline w-100 h-100">
    <div class="w-25 h-100">
      <button class="btn default-btn h-100" type="button"
              (click)="project.layout=0">Matrix+Sequencer
      </button>
      <button class="btn default-btn h-100" type="button"
              (click)="project.layout=1">Orientation
      </button>
      <!--   <button class="btn default-btn h-100" type="button"
                 [ngClass]="{'active': project?.openedWindows.indexOf('sequencer')>=0}"
                 (click)="toggleSequencer()">Sequencer
         </button>
         <button class="btn default-btn h-100" type="button"
                 [ngClass]="{'active': project?.openedWindows.indexOf('plugin')>=0}"
                 (click)="togglePlugin()">Plugin
         </button>-->
    </div>
    <div class="w-50 h-100">
      <button type="button" class="btn default-btn" [ngClass]="{'active':project?.metronomeEnabled | async}"
              (click)="switchMetronome()"><img class="icon-image" src="assets/icons/metronome.png"></button>

      <ng5-slider class="" [value]="project?.transportSettings.global.bpm" [options]="slider.options"
                  (userChange)="changeTempo($event)">
      </ng5-slider>
      <span>&nbsp;{{project?.transportSettings.global.bpm}}</span>

    </div>
    <div class="w-25 ">
      <div class="btn-group float-right">
        <button class="btn default-btn " type="button" (click)="save()"><i class="far fa-save"></i></button>
        <button class="btn default-btn " type="button" (click)="close()"><i class="fas fa-times"></i></button>
      </div>
    </div>


  </form>
</nav>

<div class="drag-container" *ngIf="project && project.ready">

  <daw-matrix [project]="project" class="window" [ngClass]="project.desktop.getWindowClass('matrix')"></daw-matrix>
  <sequencer  class="window" [ngClass]="project.desktop.getWindowClass('sequencer')"
             [project]="project"
             [pattern]="project.selectedPattern | async"></sequencer>

  <project-observer [project]="project" [tracks]="project?.tracks"></project-observer>
  <recorder [project]="project" ></recorder>

 <!-- <div class=" footer fixed-bottom">
    <effects-panel *ngIf="project.selectedTrack.getValue()" class="" [project]="project" [track]="project?.selectedTrack | async"></effects-panel>
  </div>-->
</div>
